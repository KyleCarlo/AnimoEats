<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/ico/favicon.ico" type="image/x-icon">
    <title>Username</title>
</head>
<body class="edit-prof-body">
    <img class="logo" src="assets/svg/animoeats-logo.svg" alt="logo">
    <form class="edit-prof">
        <div class="prof-pic">
            <img src={{profilePictureEdit}} alt="prof-pic">
        </div>
        <div class="prof-pic-right">
            <h1 class="username">{{usernameorig}}</h1>
            <span class="change">Change profile photo</span>
            <div id="formContainer"></div>
        </div>
        <h1 class="fname">First Name</h1>
        <div class="fname-field">
            <label class="label-fname" for="first-name">This field is required.</label>
            <input type="text" name="firstNameEdit" id="first-name" placeholder="">
        </div>
        <h1 class="lname">Last Name</h1>
        <div class="lname-field">
            <label class="label-uname" for="username">This field is required.</label>
            <input type="text" name="userNameEdit" id="username" placeholder="">
        </div>
        <h1 class="uname">Username</h1>
        <div class="uname-field">
            <label class="label-lname" for="first-name">This field is required.</label>
            <input type="text" name="lastNameEdit" id="last-name" placeholder="">
        </div>
        <h1 class="desc">Description</h1>
        <textarea name="description" id="descriptionEdit"></textarea>
        <button class="add-review-btn" type="button" value="Save Changes" id="submit">Save Changes</button>
    </form>
    <div class="sidebar"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        $('document').ready(function(){
            $('.sidebar').load('components/side-bar.html');

            setTimeout(function(){
                $('.side-profile').addClass('selected');
            },200);

            $(".prof-pic-right .change").on('click', function() {
                const formContainer = document.getElementById('formContainer');

            // Create the form elements
            const form = document.createElement('form');
            const fileInput = document.createElement('input');
            const submitButton = document.createElement('button');

            form.setAttribute("action", "/edit-profile");
            form.setAttribute("method", "POST");
            // Set attributes for the file input
            fileInput.setAttribute('type', 'file');
            fileInput.setAttribute('name', 'profilePicture');
            fileInput.setAttribute('enctype', 'multipart/form-data')

            // Set attributes for the submit button
            submitButton.setAttribute('type', 'submit');
            submitButton.innerText = 'Upload Picture';

            // Append the elements to the form and the form to the container
            form.appendChild(fileInput);
            form.appendChild(submitButton);
            formContainer.appendChild(form);
            });
        });
    </script>
</body>
</html>